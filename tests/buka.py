import subprocess


exe = 'bin/buka.exe'


def run(a, b, o):

    process = subprocess.Popen([exe], stdin=subprocess.PIPE, stdout=subprocess.PIPE)

    output, _ = process.communicate(input=f"{a}\n{o}\n{b}".encode())

    return output.decode().strip()

test = [
    ("10000", "*", "1000", "10000000"),
    ("100000000000", "*", "1000000000", "100000000000000000000"),
    ("1000", "+", "10", "1010"),
    ("10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", "*", "10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", "100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"),
    ("10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", "+", "10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000", "20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000")

]


errors = 0

for a, o, b, expected in test:

    actual = run(a, b, o)

    if actual != expected:

        print(f"Error: For input ({a}, {o}, {b}), expected {expected} but got {actual}")

        errors += 1

    else:

        print(f"Test passed for input ({a}, {o}, {b})")


print(f"Total errors: {errors}")

